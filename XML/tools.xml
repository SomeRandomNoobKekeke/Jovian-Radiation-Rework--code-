<?xml version="1.0" encoding="utf-8"?>
<Items>
  <Item name="Geiger Counter" identifier="geigercounter" category="Equipment" Tags="smallitem" cargocontaineridentifier="metalcrate" Scale="0.5" impactsoundtag="impact_metal_light">
    <InventoryIcon texture="%ModDir%/PNG/Geiger small diagonal.png" sourcerect="0,0,64,64" origin="0.5,0.5" />
    <Sprite texture="%ModDir%/PNG/Geiger small.png" sourcerect="0,0,40,63" depth="0.55" origin="0.5,0.5" />
    <Body width="27" height="60" density="12" />
    <Holdable slots="Any,RightHand,LeftHand" holdangle="30" handle1="0,-15" msg="ItemMsgPickUpSelect" />
    <AiTarget soundrange="50000" sonarlabel="entityname.sonarbeacon" sight="500" staticsight="true" />
    <LightComponent LightColor="0.0,1.0,0.0,1.0" range="10" powerconsumption="10" IsOn="false" canbeselected="false">
      <!-- Mb it's better to use ManuallySelectedSound -->
      <StatusEffect type="OnActive" targettype="Contained" Condition="-0.1">
        <RequiredItem items="mobilebattery" type="Contained" />
        <Hook name="CheckRadiation" />
      </StatusEffect>
      <StatusEffect type="OnActive" targettype="This" SoundRange="50000" setvalue="true">
        <Conditional Msg="eq 1" targetitemcomponent="LightComponent" />
        <sound file="%ModDir%/Sounds/Geiger 1.ogg" range="500.0" loop="true" volume="0.25" />
      </StatusEffect>
      <StatusEffect type="OnActive" targettype="This" SoundRange="50000" setvalue="true">
        <Conditional Msg="eq 2" targetitemcomponent="LightComponent" />
        <sound file="%ModDir%/Sounds/Geiger 2.ogg" range="500.0" loop="true" volume="0.25" />
      </StatusEffect>
    </LightComponent>
    <CustomInterface canbeselected="false" drawhudwhenequipped="true" allowuioverlap="true">
      <GuiFrame relativesize="0.15,0.15" anchor="CenterLeft" pivot="BottomLeft" relativeoffset="0.006,-0.05" style="ItemUI" />
      <TickBox text="Power">
        <StatusEffect type="OnUse" targettype="This" IsOn="true">
          <Hook name="GeigerCounterToggled" />
        </StatusEffect>
        <StatusEffect type="OnSecondaryUse" targettype="This" IsOn="false">
          <Hook name="GeigerCounterToggled" />
        </StatusEffect>
      </TickBox>
      <TextBox text="Radiation" propertyname="SonarLabel" maxtextlength="32" />
    </CustomInterface>
    <ItemContainer capacity="1" maxstacksize="1" hideitems="true" containedstateindicatorstyle="battery">
      <SlotIcon slotindex="0" texture="Content/UI/StatusMonitorUI.png" sourcerect="128,448,64,64" origin="0.5,0.5" />
      <Containable items="mobilebattery">
        <StatusEffect type="OnContaining" targettype="This" Voltage="1.0" setvalue="true" />
      </Containable>
    </ItemContainer>
  </Item>
</Items>